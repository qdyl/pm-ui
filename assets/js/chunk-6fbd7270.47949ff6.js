(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fbd7270"],{"27c2":function(o,t,a){},aa02:function(o,t,a){"use strict";a("27c2")},e693:function(o,t,a){"use strict";a.r(t);var e=function(){var o=this,t=o._self._c;return t("div",{staticClass:"page"},[t("baidu-map",{staticClass:"bm-view",attrs:{"inertial-dragging":"","scroll-wheel-zoom":!0,center:o.mapCenter,zoom:o.zoom},on:{ready:o.mapReady,click:o.getLocation}},[t("bm-control",[t("header",{staticClass:"pgHeader"},[t("div",{staticClass:"backDiv",on:{click:function(t){return o.$router.go(-1)}}},[t("van-icon",{attrs:{name:"arrow-left",color1:"#c3d6f6",color:"#1989fa"}})],1),t("div",{staticClass:"leftDiv"},[t("van-dropdown-menu",[t("van-dropdown-item",{attrs:{options:o.dropdownOpts},on:{change:o.dropdownChange},model:{value:o.dropdownVal,callback:function(t){o.dropdownVal=t},expression:"dropdownVal"}})],1)],1),t("div",{staticClass:"rightDiv"},[t("van-search",{attrs:{"show-action":"",shape:"round",background:"#fff",placeholder:"请输入搜索关键词"},scopedSlots:o._u([{key:"action",fn:function(){return[t("div",{on:{click:o.onSearch}},[o._v("搜索")])]},proxy:!0}]),model:{value:o.searchVal,callback:function(t){o.searchVal=t},expression:"searchVal"}})],1)])]),t("bm-overlay",{staticStyle:{position:"absolute"},attrs:{pane:"markerPane"},on:{draw:o.bmOverlay_draw}},[t("div",{staticClass:"logoBox"},[t("img",{staticClass:"logoImg",attrs:{src:o.curPoint}})])]),o._l(o.mapOptions,(function(a,e){return t("bm-marker",{key:e,attrs:{position:{lng:a.lng,lat:a.lat},icon:{url:o.get_bmMarker_icon(o.dropdownVal),size:{width:25,height:25}}},on:{click:function(t){return o.lookDetail(e,t)}}},[o.checkedVal?t("bm-label",{attrs:{content:a.title,"label-style":{borderColor:"rgb(204, 204, 204)",backgroundColor:"#1a8afa",color:"#fff",fontSize:"12px",borderRadius:"4px",padding:"2px 4px"},offset:{width:28,height:-5}},on:{click:function(t){return o.lookDetail(e,t)}}}):o._e()],1)})),t("bm-info-window",{attrs:{title:o.infoWindow.data.title,position:o.infoWindow.position,show:o.infoWindow.show},on:{close:o.infoWindowClose,open:o.infoWindowOpen,touchend:function(t){return o.infoWindowClick(o.infoWindow.ccf3501)}}},[t("div",{staticClass:"info-window",on:{touchend:function(t){return o.infoWindowClick(o.infoWindow.eduId)}}},[t("MyBmInfoWindow",{attrs:{windowtype:o.dropdownVal,windowdataobj:o.infoWindow.data}},[t("div",{staticClass:"mapNavDiv",attrs:{slot:"navSlot"},slot:"navSlot"},[t("van-button",{staticClass:"navBtn",attrs:{round:"",size:"small",type:"info",block:""},on:{click:o.onMapNav}},[o._v("导航")])],1)])],1)]),t("bm-control",[t("div",{staticClass:"bmControlCls",on:{click:o.onBmControl}},[t("img",{staticClass:"localingIcon",attrs:{src:o.labelIcons.local,alt:""}}),t("span",{staticClass:"localLabel"},[o._v(o._s(o.localIngLabel))])])]),t("bm-control",[t("div",{staticClass:"bmControlCls2"},[t("span",{staticClass:"localLabel"},[o._v("标题")]),t("van-switch",{attrs:{size:"15"},model:{value:o.checkedVal,callback:function(t){o.checkedVal=t},expression:"checkedVal"}})],1)]),o.circleShow?t("bm-boundary",{attrs:{name:"长沙市",massClear:!1,strokeWeight:1,fillOpacity:.1,strokeStyle:"dashed1",strokeColor:"#1989fa",fillColor:"#1989fa"}}):o._e(),t("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT"}}),t("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_LEFT","show-address-bar":!0,"auto-location":!0},on:{locationSuccess:o.locationSuccess}}),o.circleShow?t("bm-circle",{attrs:{center:o.mapCenter,radius:1e3,"stroke-color":"rgba(23, 106, 229,1)","stroke-opacity":.5,"stroke-weight":1,"fill-opacity":.1}}):o._e(),o.circleShow?t("bm-circle",{attrs:{center:o.mapCenter,radius:2e3,"stroke-color":"rgba(23, 106, 229,0.6)","stroke-opacity":.5,"stroke-weight":1,"fill-opacity":.1}}):o._e(),o.circleShow?t("bm-circle",{attrs:{center:o.mapCenter,radius:3e3,"stroke-color":"rgba(23, 106, 229,0.4)","stroke-opacity":.5,"stroke-weight":1,"fill-opacity":.1}}):o._e()],2),t("ChangshaArea",{attrs:{isshow:o.showPop},on:{"update:isshow":function(t){o.showPop=t},emitevent:t=>o.localIngLabel=t}}),t("MyMapNav",{attrs:{showMapnav:o.isshowMapnav},on:{"update:showMapnav":function(t){o.isshowMapnav=t},"update:show-mapnav":function(t){o.isshowMapnav=t}}})],1)},n=[],i=(a("d9e2"),a("ad2b")),s=a("9ec2"),l=a("6cad"),r=a("fda5"),c=a("2ec8"),p={mixins:[c["a"]],components:{ChangshaArea:s["a"],MyBmInfoWindow:l["a"],MyMapNav:r["a"]},data(){return{showPop:!1,checkedVal:!0,isshowMapnav:!1,circleShow:!0,mapEle:"",dropdownVal:0,dropdownOptsClone:[],dropdownOpts:[{text:"岗位",value:0},{text:"企业",value:1},{text:"招聘会",value:2},{text:"零工市场",value:3},{text:"零工岗位",value:4},{text:"零工招聘会",value:5},{text:"就业微市场",value:6},{text:"就业招聘会",value:7}],searchVal:"",curPoint:a("403c"),mapType:"",zoom:14,mapCenter:{lng:113.017075,lat:28.202568},mapOptions:i["a"],infoWindow:{show:!1,position:{},data:{}},markerIcons:{type0:a("7f67"),type1:a("024e"),type2:a("563e"),type3:a("390a"),type4:a("3855"),type5:a("7311"),type6:a("bdb5"),type7:a("c83b"),type8:a("2562"),type9:a("6cf1")},labelIcons:{home:a("efb9"),job:a("8492"),local:a("45c3"),date:a("b3e9"),tele:a("62fc")},localIngLabel:"长沙"}},created(){this.handleOptFoo()},methods:{onSearch(){this.initData1()},dropdownChange(o){console.log("va",o),this.infoWindowClose(),0===o?this.mapOptions=i["a"]:1===o&&(this.mapOptions=i["b"]),this.initData1()},mapReady({BMap:o,map:t}){console.log(o,t);this.mapEle=t},getLocation(o){console.log(o,"位置"),this.circleShow=!1,this.$nextTick(()=>{this.circleShow=!0}),this.mapCenter.lat=o.point.lat,this.mapCenter.lng=o.point.lng},locationSuccess(o){console.log(o,"定位")},infoWindowClose(){this.infoWindow.show=!1},infoWindowOpen(){this.infoWindow.show=!0},infoWindowClick(){},lookDetail(o,t){const a=this.mapOptions[o],e={lng:a.lng,lat:a.lat};this.circleShow=!1,this.$nextTick(()=>{this.circleShow=!0}),t.domEvent.stopPropagation(),this.infoWindow.data=a,this.infoWindow.position=e,this.infoWindow.show=!0},bmOverlay_draw({el:o,BMap:t,map:a}){var e=a.pointToOverlayPixel(new t.Point(this.mapCenter.lng,this.mapCenter.lat));o.style.left=e.x-15+"px",o.style.top=e.y-20+"px"},get_bmMarker_icon(o){const t="type"+o,a=this.markerIcons;return a[t]},onBmControl(){this.showPop=!0},bmboundary_mouseover(o,t,a,e){console.log("进入",o,t,a,e)},onMapNav(){this.isshowMapnav=!0},handleOptFoo(){const{optType:o}=this.$route.query;if(!o)return;console.log("optType",o),this.dropdownOptsClone=this.deepClone(this.dropdownOpts);const t=this.dropdownOptsClone.filter(t=>o.includes(t.value));this.dropdownOpts=t,console.log("resultOpts",t)},deepClone(o){if(!o&&"object"!==typeof o)throw new Error("error arguments","deepClone");const t=o.constructor===Array?[]:{};return Object.keys(o).forEach(a=>{o[a]&&"object"===typeof o[a]?t[a]=this.deepClone(o[a]):t[a]=o[a]}),t}}},d=p,h=(a("aa02"),a("2877")),w=Object(h["a"])(d,e,n,!1,null,"639e7d5e",null);t["default"]=w.exports}}]);